<script setup lang="ts">
import SuccessfulBids from './components/SuccessfulBids.vue';
import ClosedCompetitions from './components/ClosedCompetitions.vue';
import CompetitionSuccessRate from './components/CompetitionSuccessRate.vue';
import TopBuyers from './components/TopBuyers.vue';
import { onMounted, reactive } from 'vue';
import { useDataStore } from './store/dataStore';

const dataStore = useDataStore();
const state = reactive({
  loading: true,
});

onMounted(async () => {
  await dataStore.hydrateStore();
  state.loading = false;
});
</script>

<template>
  <svg width="300" height="271" viewBox="0 0 883 271" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M554.043 66.7783C573.183 66.7783 590.49 74.6073 602.951 87.2343L582.359 107.825C578.298 111.889 572.099 112.745 566.986 110.126C562.907 108.038 558.26 106.907 553.337 107.025C538.143 107.394 525.787 119.88 525.57 135.075C525.347 150.99 538.181 163.962 554.043 163.962C558.725 163.962 563.144 162.83 567.04 160.823C572.193 158.173 578.495 159.287 582.594 163.388L602.951 183.743C590.49 196.369 573.183 204.199 554.043 204.199C516.349 204.199 485.745 173.851 485.337 136.256C484.921 98.3463 516.128 66.7783 554.043 66.7783Z" fill="#144466"/>
    <path d="M463.071 64V188.632C463.071 196 457.097 201.972 449.729 201.972H422.589V64H463.071Z" fill="#144466"/>
    <path d="M442.828 3.97852C454.005 3.97852 463.063 13.0355 463.063 24.2125C463.063 35.3885 454.005 44.4455 442.828 44.4455C431.653 44.4455 422.593 35.3885 422.593 24.2125C422.593 13.0355 431.653 3.97852 442.828 3.97852Z" fill="#144466"/>
    <path d="M663.936 1V188.597C663.936 195.965 657.964 201.937 650.596 201.937H623.453V14.341C623.453 6.973 629.427 1 636.795 1C644.163 1 663.936 1 663.936 1Z" fill="#144466"/>
    <path d="M755.044 66.7783C792.99 66.7783 823.756 97.5413 823.756 135.489C823.756 173.437 792.99 204.199 755.044 204.199C717.096 204.199 686.333 173.437 686.333 135.489C686.333 97.5413 717.096 66.7783 755.044 66.7783ZM755.044 105.014C738.214 105.014 724.569 118.658 724.569 135.489C724.569 152.319 738.214 165.965 755.044 165.965C771.874 165.965 785.518 152.319 785.518 135.489C785.518 118.658 771.874 105.014 755.044 105.014Z" fill="#144466"/>
    <path d="M263.333 135.45C263.333 90.1202 307.064 55.1002 354.728 70.4382C377.573 77.7902 395.05 96.9402 399.894 120.446C409.068 164.96 376.402 204.199 333.543 204.199C322.567 204.199 312.494 201.612 304.607 197.034V254.974C304.607 263.267 297.823 270.051 289.53 270.051H263.572C263.572 270.051 263.347 144.678 263.333 135.921V135.45ZM360.724 145.77C368.829 121.087 346.319 98.5882 321.642 106.698C312.925 109.563 306.005 116.485 303.14 125.202C295.027 149.884 317.539 172.396 342.224 164.277C350.94 161.411 357.861 154.486 360.724 145.77Z" fill="#144466"/>
    <path d="M850.965 1.6709C868.457 1.6709 882.637 15.8509 882.637 33.3429C882.637 50.8339 868.457 65.0139 850.965 65.0139C833.474 65.0139 819.294 50.8339 819.294 33.3429C819.294 15.8509 833.474 1.6709 850.965 1.6709ZM851.018 9.2439C837.948 9.2439 827.352 19.8389 827.352 32.9089C827.352 45.9789 837.948 56.5749 851.018 56.5749C864.088 56.5749 874.683 45.9789 874.683 32.9089C874.683 19.8389 864.088 9.2439 851.018 9.2439Z" fill="#144466"/>
    <path d="M852.788 17.0459C855.767 17.0459 858.043 17.2999 859.616 17.8089C861.191 18.3179 862.46 19.2599 863.425 20.6379C864.39 22.0159 864.872 23.6939 864.872 25.6709C864.872 27.3939 864.502 28.8809 863.765 30.1319C863.028 31.3809 862.013 32.3969 860.723 33.1729C859.9 33.6669 858.772 34.0769 857.34 34.4009C858.489 34.7819 859.325 35.1639 859.851 35.5449C860.205 35.7989 860.72 36.3439 861.393 37.1769C862.067 38.0099 862.517 38.6519 862.744 39.1049L867.403 48.1119H856.511L851.363 38.6179C850.71 37.3899 850.13 36.5929 849.619 36.2249C848.924 35.7449 848.137 35.5039 847.256 35.5039H846.405V48.1129H836.727V17.0459H852.788ZM850.639 23.3179H846.405V29.6339H850.468C850.907 29.6339 851.758 29.4919 853.021 29.2089C853.658 29.0819 854.181 28.7569 854.584 28.2349C854.988 27.7129 855.191 27.1119 855.191 26.4339C855.191 25.4299 854.872 24.6599 854.234 24.1229C853.597 23.5869 852.398 23.3179 850.639 23.3179Z" fill="#144466"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M102.032 0C45.7658 0 0 45.7662 0 102.037L0.065001 244.342C0.0729132 258.492 11.304 269.615 25.451 269.615C34.5511 269.615 42.7282 264.802 47.2602 256.885L79.0026 201.453C86.5208 203.191 94.2274 204.066 102.032 204.066C158.299 204.066 204.065 158.299 204.065 102.033C204.065 45.766 158.299 0 102.032 0ZM102.032 174.039C93.437 174.039 85.0484 172.544 77.0823 169.601L65.1625 165.194L30.0845 226.45L30.0259 102.03C30.0274 62.332 62.3347 30.0283 102.032 30.0283C141.731 30.0283 174.039 62.3336 174.039 102.033C174.039 141.731 141.731 174.039 102.032 174.039Z" fill="#144466"/>
  </svg>

  <h1>Tech Challenge | Karl Charles</h1>

  <template v-if="!state.loading">
    <SuccessfulBids :searchable="true" />
    <ClosedCompetitions :searchable="true" />
    <CompetitionSuccessRate :searchable="true" />
    <TopBuyers />
  </template>
</template>

<style>
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>
